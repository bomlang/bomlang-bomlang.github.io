---
layout: post
title: Blogging Like a Hacker
tag: JavaScript
---

# 변수 var에 대해서 알아보자! - 개요

프론트엔드 부트캠프에서 HTML과 CSS를 배우고 자바스크립트를 배운지 일주일이 지났습니다. 배운 내용을 복습하고자 var를 시작해서 렉시컬환경(global영역까지만)까지 정리하고자 합니다.

## 변수의 선언에 대해서

자바스크립트를 배우기 시작하면 가장 처음은 변수의 선언과 할당에 대해 배웁니다. 그 중 선언에 대해서 배울 때 var와 let, const에 대해서 배우게됩니다.
먼저 let과 const는 ES6(2015)때 등장하게 되었습니다. 그럼 그 이전에는 변수선언을 어떻게 하였을까요? 바로 var를 사용해서 정의했습니다. var를 계속 사용하면 되는데 왜 let과 const가 등장하게 되었을까요? 먼저 let과 const에 대해서 알아보도록 합시다.

---

### let 과 const에 대해서

let과 const는 ES6에 등장한 변수를 선언하는 키워드입니다. 먼저 const에 대해서 알아보겠습니다.
const는 let과 var이랑은 다르게 변수를 선언할 때 값을 같이 선언해주어야 합니다. 그렇지 않으면 const에 변수값이 설정되지 않았다는 에러와 마주하게 됩니다. 왜냐하면 const는 변수를 정하는 순간 값을 변경할 수 없기 때문입니다.

```javascript
const num = 10; //변수 선언 및 할당
num = 12; //값 재할당  ->  오류발생 (Uncaught TypeError: Assignment to constant variable.)
console.log(num);
```

위와 같이 const는 변수값을 재할당 할 경우에 '변수값을 재할당 할 수 없습니다.' 라는 오류메세지가 등장합니다.

그럼 let에 대해서 살펴볼까요?
let은 아직 설명하지 않은 var와 매우 흡사한 기능을 가지고 있습니다. const는 변수값을 바꾸지 못한다면, let은 변경이 가능합니다.

```javascript
let name; //변수 선언
name = "HORI"; // 변수값 할당
name = "KIRA"; //변수값 재할당
console.log(name); //콘솔에는 name에 재할당된 'KIBA'가 출력됩니다.
```

위처럼 name에 언제든 타입에 상관없이 재할당이 가능합니다. 또한 const와 다르게 변수를 먼저 선언만해도 에러가 생기지 않습니다. 단, 주의 할 점이 있습니다!

```javascript
let name = "HORI"; //변수 선언
let name = "KIRA"; //변수 재할당  ->  오류발생 (error: Identifier 'greeting' has already been declared)
console.log(name);
```

let으로 재할당은 가능하지만, **_동일한 스코프에선 변수선언은 한번만 가능합니다._**

#### 정리하자면

##### const

- 변수선언시 선언이 함께 되야한다.
- 변수값이 할당되면 다시 재할당이 불가능하다.

##### let

- 변수선언과 할당을 따로해도 괜찮다.
- 변수값 재할당이 가능하다.
- 단, 동일 스코프범위에서 같은 변수는 한번만 선언 할 수 있다.

---

### var에 대해서

앞의 let을 잠깐 알아보면서 var와 비슷하다는 이야기를 했었습니다. var은 let과 똑같이 변수값을 선언하고, 재할당이 가능합니다.

```javascript
var name = "HORI"; //변수 선언 및 할당
var name = "공부 열심히!"; //변수값 재할당
console.log(name); //콘솔에는 name에 재할당된 '공부 열심히!'가 출력됩니다.
```

이렇게 변수의 값을 let처럼 변수를 재할당해 값을 변경 할 수 있습니다. 그런데 let이랑 다르게 무언가 이상합니다. 분명 let은 같은 변수를 재선언하면 오류를 발생시킵니다. 하지만 var은 **오류를 발생시키 않고 정상적으로 실행됩니다.**
왜그럴까요? 이유를 알아보려면 자바스크립트의 렉시컬환경에 대해서 알아야합니다. 렉시컬 환경은 다음 포스트에서 다뤄보도록 하겠습니다.

---

### var는 왜 쓰면 안될까?

하지만 var를 쓰면 안좋은 점에 대허서는 알아야합니다.
만약 A와 B가 협업을 한다고 가정해봅시다. A는 변수명을 `var username = 'KIRA'`라고 작업하였습니다. 이후 B가 코드작업을 이어나가면서 A가 쓴 변수와 별개로 `var username = 'HORI'` 이란 변수를 선언했습니다. 이렇게되면 결과물에선 에상치 못한 결과를 얻을 수 있습니다.
"그럼 let도 결국 위험성이 존재하는거 아닌가요?!" 네 맞습니다. 다만 var의 위험성은 여기서 끝나지 않습니다.

#### 코드 블록에서 let과 var

코드 블록은 {}와 같습니다. 코드를 중괄호로 감싼 형태를 코드 블록이라 합니다. 주로 if문이나 for, 함수등에서 쓰입니다.

```javascript
{
  var num = 4; //변수 선언 및 할당
}

console.log(num); //코드 블록에서 선언된 num의 값 4가 출력됩니다.
```

위 코드 블록에서 선언된 var의 값은 밖에서도 console.log()를 이용하여 출력하면 에러없이 잘 동작합니다.

```javascript
{
  let num = 4; //변수 선언 및 할당
}

console.log(num); //num is nod defined
```

하지만 let으로 선언시 밖의 console.log()는 num을 선언하지 않았다는 에러문구와 함께 실행되지 않습니다.
이처럼 **var는 코드 블록과 전연스코프에 관계없이 선언 및 재할당이 가능**합니다. 이 기능은 개발자에게 있어서 매우 치명적이라 할 수 있습니다. 그렇기에 var를 쓰는 일은 없도록 합시다!
**(다만 var은 함수안에서 선언시 전역스코프에서 읽을 수 없습니다. 이 이유는 렉시컬환경에서 같이 이야기 하도록 하겠습니다.)**

#### 정리하자면

##### let과 const

- 코드 블록에서 정의된 변수는 전역스코프에서 읽지 못합니다.
- let은 var과 비슷한 기능이지만 매우 다릅니다.

##### var

- 코드 블록 안이나 밖에서 선언하면 스코프에 관계없이 재할당 및 사용이 가능합니다.
- 변수선언을 중첩해서 여러번 가능합니다.
- 단, 함수안에서 선언시 전역스코프에서 읽을 수 없습니다.
